"use strict";(self.webpackChunkFronted=self.webpackChunkFronted||[]).push([[158],{3158:(D,y,a)=>{a.r(y),a.d(y,{CompanyViewModule:()=>B});var l=a(9808),p=a(1083),T=a(2585),x=a(2340),t=a(5e3),h=a(6196);function Z(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"li",6)(1,"a",12),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().navigated(c._id)}),t._uU(2),t.ALo(3,"titlecase"),t.qZA()()}if(2&n){const e=o.$implicit;t.xp6(2),t.hij("",t.lcZ(3,1,e.title)," ")}}const _=function(){return["/clients/companies"]};let w=(()=>{class n{constructor(e,i,r){this.activatedRoute=e,this.companyService=i,this.router=r,this.pages=[];let c=document.querySelector("#favIcon");this.activatedRoute.params.subscribe(s=>{let u=s.id;this.companyService.setCurrentIDCompany=u,this.companyService.getWebWithPages(u).subscribe(d=>{d.ok&&(this.web=d.web,c.href=`${x.N.baseUrl}/uploads/web/${this.web.favicon}`,this.pages=d.web.pages)})})}ngOnInit(){}navigated(e){this.router.navigate([e],{relativeTo:this.activatedRoute})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz),t.Y36(h.J),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-company"]],decls:14,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"navbar","navbar-dark","bg-dark","navbar-expand-lg","navbar-light","bg-light","mb-2"],["id","navbarTogglerDemo01",1,"collapse","navbar-collapse","justify-content-center"],["href","#",1,"navbar-brand"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item","active"],["routerLinkActive","router-link-active",1,"nav-link",3,"routerLink"],[1,"cursor-pointer","fa-solid","fa-arrow-left","text-white"],["class","nav-item active",4,"ngFor","ngForOf"],[1,"nav-link",3,"click"],[1,"cursor-pointer","fa-solid","fa-store","text-white"],[1,"nav-link","cursor-pointer",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"div",3),t._UZ(4,"a",4),t.TgZ(5,"ul",5)(6,"li",6)(7,"a",7),t._UZ(8,"i",8),t.qZA()(),t.YNc(9,Z,4,3,"li",9),t.TgZ(10,"li",6)(11,"a",10),t.NdJ("click",function(){return i.navigated("shop")}),t._UZ(12,"i",11),t.qZA()()()()()()(),t._UZ(13,"router-outlet")),2&e&&(t.xp6(7),t.Q6J("routerLink",t.DdM(2,_)),t.xp6(2),t.Q6J("ngForOf",i.pages))},directives:[p.yS,p.Od,l.sg,p.lC],pipes:[l.rS],styles:[""]}),n})();var k=a(6601);function A(n,o){if(1&n&&(t.TgZ(0,"div",1,2),t._UZ(2,"div",3),t.ALo(3,"safeHtml"),t.qZA()),2&n){const e=o.$implicit;t.Tol("block position-relative col-"+e.size),t.Q6J("id","block-"+e._id),t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,4,e.HTML),t.oJD)}}let F=(()=>{class n{constructor(e,i,r,c){this.activatedRoute=e,this.companyService=i,this._renderer2=r,this._document=c,this.blocks=[],this.activatedRoute.params.subscribe(s=>{this.companyService.getPage(this.companyService.getCurrentIDCompany,s.idPage).subscribe(d=>{var f,C;if(d.ok){this.page=d.page,this.blocks=this.page.blocks;let g=this._renderer2.createElement("script");g.type="text/javascript",g.charset="utf-8",g.text=null!==(f=this.page.js)&&void 0!==f?f:"",this._renderer2.appendChild(this._document.body,g);let S=this._renderer2.createElement("style");S.innerHTML=null!==(C=this.page.css)&&void 0!==C?C:"",this._renderer2.appendChild(this._document.body,S)}})})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz),t.Y36(h.J),t.Y36(t.Qsj),t.Y36(l.K0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pages"]],decls:1,vars:1,consts:[[3,"id","class",4,"ngFor","ngForOf"],[3,"id"],["editable",""],[3,"innerHTML"]],template:function(e,i){1&e&&t.YNc(0,A,4,6,"div",0),2&e&&t.Q6J("ngForOf",i.blocks)},directives:[l.sg],pipes:[k.z],styles:[".block[_ngcontent-%COMP%]{min-height:10px}"]}),n})();var J=a(5226),b=a.n(J),L=a(7556),P=a(2425),m=a(9224),v=a(9966);function M(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"mat-card",7)(2,"mat-card-header",8)(3,"mat-card-title",9),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.TgZ(6,"mat-card-subtitle"),t._uU(7),t.ALo(8,"titlecase"),t.qZA()(),t.TgZ(9,"mat-card-content",10),t._UZ(10,"img",11),t.TgZ(11,"p",12),t._uU(12),t.qZA(),t.TgZ(13,"p",13),t._uU(14),t.qZA()(),t.TgZ(15,"mat-card-actions",9)(16,"button",14),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw(2).addShoppingCar(c)}),t._uU(17,"Agregar al carrito de compra"),t.qZA()()()()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,6,e.name)),t.xp6(3),t.Oqu(t.lcZ(8,8,e.categories)),t.xp6(3),t.Q6J("src",i.url+"/"+e.image,t.LSH)("alt",e.name),t.xp6(2),t.hij("Precio: ",e.price," Lps."),t.xp6(2),t.hij("",e.description," ")}}const O=function(n){return{itemsPerPage:4,currentPage:n}};function U(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t.YNc(2,M,18,10,"div",4),t.ALo(3,"paginate"),t.TgZ(4,"pagination-controls",5),t.NdJ("pageChange",function(r){return t.CHM(e),t.oxw().page=r}),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.xi3(3,1,e.products,t.VKq(4,O,e.page)))}}function Y(n,o){1&n&&(t.TgZ(0,"h1",15),t._uU(1,"No hay productos"),t.qZA())}const I=[{path:":id/pages",component:w,children:[{path:"shop",component:(()=>{class n{constructor(e,i,r,c){this.companyService=e,this.authService=i,this.clientService=r,this.router=c,this.products=[],this.url=`${x.N.baseUrl}/uploads/products`,this.authService.validarToken().subscribe(s=>{s&&(this.user=this.authService.user)}),this.companyService.getCompanyProducts(this.companyService.getCurrentIDCompany).subscribe(s=>{s.ok&&(this.products=s.products)})}ngOnInit(){}addShoppingCar(e){this.user&&"client"==this.user.type?(localStorage.getItem("test"),this.clientService.addProductShopping(e),b().fire({position:"center",icon:"success",title:"Se agrego el producto",showConfirmButton:!0})):b().fire({title:"Necesita ingresar como cliente",showDenyButton:!0,confirmButtonText:"Seguir en la pagina",denyButtonText:"Ir al Login"}).then(r=>{r.isDenied&&(this.authService.logOut(),this.router.navigateByUrl("auth/login"))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.J),t.Y36(L.e),t.Y36(P.y),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop"]],decls:3,vars:2,consts:[["class","container w-100",4,"ngIf","ngIfElse"],["noProducts",""],[1,"container","w-100"],[1,"row","mt-5"],["class","col-12 col-sm-6 col-md-4 col-xl-4 mb-3 pe-sm-3 text-break ",4,"ngFor","ngForOf"],["previousLabel","Anterior","nextLabel","Siguiente",1,"pagination","justify-content-center",3,"pageChange"],[1,"col-12","col-sm-6","col-md-4","col-xl-4","mb-3","pe-sm-3","text-break"],[1,"avatar-card","h-100"],[1,"justify-content-center","wrap"],[1,"text-center"],[1,"ms-4","avatar-card-information","break-word","text-center"],[1,"card-img-top",2,"width","200px","height","200px","border-radius","20px",3,"src","alt"],[1,"fs-6","fw-semibold","text-center","mt-4"],[1,"text-capitalize","fw-semibold","text-deg-purple-1","description-product",2,"font-size","1.1em"],["type","button",1,"btn","btn-primary","mb-4",3,"click"],[1,"text-center","mt-5"]],template:function(e,i){if(1&e&&(t.YNc(0,U,5,6,"div",0),t.YNc(1,Y,2,0,"ng-template",null,1,t.W1O)),2&e){const r=t.MAs(2);t.Q6J("ngIf",i.products.length>0)("ngIfElse",r)}},directives:[l.O5,l.sg,m.a8,m.dk,m.n5,m.$j,m.dn,m.hq,v.LS],pipes:[v._s,l.rS],styles:[""]}),n})()},{path:":idPage",component:F}]},{path:"**",component:T.J}];let N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(I)],p.Bz]}),n})();var j=a(5578),z=a(4586);let B=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,N,j.q,v.JX,z.D]]}),n})()}}]);