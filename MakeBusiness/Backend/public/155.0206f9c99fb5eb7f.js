"use strict";(self.webpackChunkFronted=self.webpackChunkFronted||[]).push([[155],{8155:(et,v,a)=>{a.r(v),a.d(v,{ClientModule:()=>tt});var l=a(9808),d=a(1083),h=a(837),C=a(8390),t=a(5e3),m=a(7556),Z=a(1824);function T(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"img",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().navegate("car_shopping")}),t.qZA()()}}function b(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"img",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().navegate("historical")}),t.qZA()()}}function S(n,i){1&n&&t._UZ(0,"app-avatar",11)}const A=function(){return["/landing-page"]};let M=(()=>{class n{constructor(e,o){this.router=e,this.authService=o,this.type=""}ngOnInit(){this.authService.validarToken().subscribe(e=>{e?(this.user=this.authService.user,this.type=this.user.type):localStorage.removeItem("products")})}navegate(e){this.router.navigateByUrl(`clients/${e}`)}logOut(){this.authService.logOut()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.F0),t.Y36(m.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-nav-bar"]],decls:10,vars:5,consts:[[1,"navbar","navbar-expand-lg","bg-purple-deg-1"],[1,"container-fluid"],[1,"ms-5","logo"],["src","../../../../assets/Logo V3.png ","alt","logo.png",1,"h-100","w-100","cursor-pointer",3,"routerLink"],[1,"options"],[1,"ms-5","logo-option"],["src","../../../../assets/clients/store.png","alt","logo.png",1,"h-100","w-100","cursor-pointer",3,"click"],["class","ms-5 logo-option",4,"ngIf"],["class","mx-4 mt-2","mat-icon-button","",4,"ngIf"],["src","../../../../assets/clients/car_shopping.png","alt","logo.png",1,"h-100","w-100","cursor-pointer",3,"click"],["src","../../../../assets/clients/tag-price.png","alt","logo.png",1,"h-100","w-100","cursor-pointer",3,"click"],["mat-icon-button","",1,"mx-4","mt-2"]],template:function(e,o){1&e&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"img",6),t.NdJ("click",function(){return o.navegate("companies")}),t.qZA()(),t.YNc(7,T,2,0,"div",7),t.YNc(8,b,2,0,"div",7),t.YNc(9,S,1,0,"app-avatar",8),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("routerLink",t.DdM(4,A)),t.xp6(4),t.Q6J("ngIf","client"==o.type),t.xp6(1),t.Q6J("ngIf","client"==o.type),t.xp6(1),t.Q6J("ngIf","client"==o.type))},directives:[d.rH,l.O5,Z.A],styles:[".logo[_ngcontent-%COMP%]{width:150px;height:100%}.logo-option[_ngcontent-%COMP%]{width:80px;height:100%}.options[_ngcontent-%COMP%]{display:flex}"]}),n})(),P=(()=>{class n{constructor(e){this.authService=e,this.favIcon=document.querySelector("#favIcon"),this.favIcon.href="favicon.ico",this.authService.validarToken().subscribe(o=>o)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-client"]],decls:2,vars:0,template:function(e,o){1&e&&t._UZ(0,"app-nav-bar")(1,"router-outlet")},directives:[M,d.lC],styles:[""]}),n})();var _=a(2340),w=a(6196),u=a(9224),g=a(9966);function O(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"mat-card",5)(2,"mat-card-header",6)(3,"mat-card-title",7),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-content",8),t._UZ(8,"img",9),t.qZA(),t.TgZ(9,"mat-card-actions")(10,"p",10),t._uU(11),t.qZA(),t.TgZ(12,"button",11),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().navigated(c)}),t._uU(13,"Explorar"),t.qZA()()()()}if(2&n){const e=i.$implicit,o=t.oxw();t.xp6(4),t.Oqu(e.nameCompany),t.xp6(2),t.Oqu(e.category),t.xp6(2),t.Q6J("src",o.url+"/"+e.web.logo,t.LSH)("alt",e.nameCompany),t.xp6(3),t.Oqu(e.description)}}const q=function(n){return{itemsPerPage:4,currentPage:n}};let N=(()=>{class n{constructor(e,o,r){this.companyService=e,this.router=o,this.authService=r,this.url=`${_.N.baseUrl}/uploads/web`,this.companies=[],this.companyService.getAllCompanyWithWebAndPages.subscribe(c=>{c.ok&&(this.companies=c.companies)})}navigated(e){this.router.navigateByUrl(`/companies/${e._id}/pages/${e.web.pageMain}`)}ngOnInit(){this.authService.validarToken().subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w.J),t.Y36(d.F0),t.Y36(m.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-companies"]],decls:5,vars:6,consts:[[1,"container","w-100"],[1,"row","mt-5"],["class","col-12 col-sm-6 col-md-4 col-xl-4 mb-3 pe-sm-3 text-break ",4,"ngFor","ngForOf"],["previousLabel","Anterior","nextLabel","Siguiente",1,"pagination",3,"pageChange"],[1,"col-12","col-sm-6","col-md-4","col-xl-4","mb-3","pe-sm-3","text-break"],[1,"avatar-card","h-100"],[1,"justify-content-center","wrap"],[1,"text-center"],[1,"ms-4","avatar-card-information","break-word","text-center"],[1,"card-img-top",2,"width","200px","height","200px","border-radius","20px",3,"src","alt"],[1,"text-deg-purple-1","description-company"],["type","button",1,"btn","btn-explorar",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,O,14,5,"div",2),t.ALo(3,"paginate"),t.qZA(),t.TgZ(4,"pagination-controls",3),t.NdJ("pageChange",function(c){return o.page=c}),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngForOf",t.xi3(3,1,o.companies,t.VKq(4,q,o.page))))},directives:[l.sg,u.a8,u.dk,u.n5,u.$j,u.dn,u.hq,g.LS],pipes:[g._s],styles:[".main-container[_ngcontent-%COMP%]{background-color:#ab1691;height:90vw;width:100%;padding-top:5rem}.card-test[_ngcontent-%COMP%]{width:300px;border:2px solid red}.container-companies[_ngcontent-%COMP%]{background-color:#fff;width:98%;margin-left:auto;margin-right:auto;border-radius:1rem;padding-top:1rem;height:75vw}#input-search[_ngcontent-%COMP%]{text-align:center;margin-right:auto;margin-left:auto;margin-bottom:3rem;width:80%;border-color:#078e94;border-width:3px}.companies[_ngcontent-%COMP%]{padding-left:auto;padding-right:auto}#label-input-search[_ngcontent-%COMP%]{display:flex;justify-content:center;color:#078e94;font-size:xx-large;font-style:bold;margin:1rem}.card[_ngcontent-%COMP%]{border-color:#078e94;border-width:2px;border-radius:1rem}.card[_ngcontent-%COMP%]:hover{background-color:#e0e0e0;border-color:#078e94;border-width:2px}.card-img-top[_ngcontent-%COMP%]{padding:1rem}.name-company[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:center;color:#078e94;font-style:bolder;font-size:x-large}.category-company[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:center;color:#078e94;font-size:large}.description-company[_ngcontent-%COMP%]{display:flex;justify-content:center}.btn-explorar[_ngcontent-%COMP%]{display:flex;margin-left:auto;margin-right:auto;color:#078e94;background-color:#fff;border-color:#078e94}.btn-explorar[_ngcontent-%COMP%]:hover{background-color:#078e94;color:#fff;border-color:#078e94}.pagination[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:center}"]}),n})();var s=a(8279),y=a(2425),U=a(4638);function J(n,i){if(1&n&&(t.TgZ(0,"th",10),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e)," ")}}function k(n,i){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&n){const e=i.$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[o]," ")}}function H(n,i){1&n&&(t.ynx(0,8),t.YNc(1,J,3,3,"th",9),t.YNc(2,k,2,1,"td",5),t.BQk()),2&n&&t.Q6J("matColumnDef",i.$implicit)}function B(n,i){1&n&&(t.TgZ(0,"th",12),t._uU(1," Fecha "),t.qZA())}function F(n,i){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.date)," ")}}function j(n,i){1&n&&t._UZ(0,"tr",13)}function Y(n,i){1&n&&t._UZ(0,"tr",14)}let Q=(()=>{class n{constructor(e,o){this.clientService=e,this.authService=o,this.displayedColumns=["idProduct","name","price","quantity","total","date"],this.selectedRowIndex="",this.productHistory=[],this.dataSource=new s.by,this.clientService.getClient(this.authService.user._id).subscribe(r=>{r.ok&&(this.productHistory=r.client.historical,this.dataSource.data=this.productHistory)})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.y),t.Y36(m.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-history-purchases"]],decls:8,vars:4,consts:[[1,"main-container","mt-5","p-5"],["mat-table","",1,"mat-elevation-z8","w-100",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],["mat-header-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"table",1),t.YNc(2,H,3,1,"ng-container",2),t.ynx(3,3),t.YNc(4,B,2,0,"th",4),t.YNc(5,F,3,3,"td",5),t.BQk(),t.YNc(6,j,1,0,"tr",6),t.YNc(7,Y,1,0,"tr",7),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(1),t.Q6J("ngForOf",o.displayedColumns.slice(0,-1)),t.xp6(4),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns))},directives:[s.BZ,l.sg,s.w1,s.fO,s.ge,s.Dz,s.ev,s.as,s.XQ,s.nj,s.Gk],pipes:[U.X,l.uU],styles:["td.mat-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}"]}),n})();var I=a(5226),x=a.n(I),f=a(3075),$=a(7423),D=a(5245);function L(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",9),t._UZ(1,"hr"),t.TgZ(2,"div",4),t._UZ(3,"img",10),t.qZA(),t.TgZ(4,"div",4)(5,"p"),t._uU(6),t.qZA()(),t.TgZ(7,"div",4)(8,"p"),t._uU(9),t.qZA()(),t.TgZ(10,"div",4)(11,"div",11)(12,"div",12)(13,"input",13),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().decrease(c)}),t.qZA(),t.TgZ(14,"input",14,15),t.NdJ("change",function(){const c=t.CHM(e).$implicit,p=t.MAs(15);return t.oxw().change(p,c)})("ngModelChange",function(r){return t.CHM(e).$implicit.quantity=r}),t.qZA(),t.TgZ(16,"input",16),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().increment(c)}),t.qZA()(),t.TgZ(17,"label",17),t._uU(18," Seleccione un numero mayor a 1 "),t.qZA()()(),t.TgZ(19,"div",18)(20,"p"),t._uU(21),t.qZA()(),t.TgZ(22,"div",4)(23,"button",19)(24,"mat-icon",20),t.NdJ("click",function(){const c=t.CHM(e).index;return t.oxw().deleteProduct(c)}),t._uU(25,"delete_outline"),t.qZA()()()()}if(2&n){const e=i.$implicit,o=t.MAs(15),r=t.oxw();t.xp6(3),t.Q6J("src",r.url+e.image,t.LSH),t.xp6(3),t.hij("",e.name," "),t.xp6(3),t.Oqu(e.price),t.xp6(5),t.Q6J("ngModel",e.quantity),t.xp6(3),t.ekj("visually-hidden",r.validateQuantity(o)),t.xp6(4),t.Oqu(e.quantity*e.price)}}const z=function(n){return{itemsPerPage:3,currentPage:n}},R=function(n){return{disabled:n}},E=[{path:"",component:P,children:[{path:"companies",component:N},{path:"car_shopping",component:(()=>{class n{constructor(e,o){this.clientService=e,this.authService=o,this.total=0,this.incorrect=!1,this.productCart=[],this.url=`${_.N.baseUrl}/uploads/products/`,this.authService.validarToken().subscribe(),this.productCart=this.clientService.getProductCarShopping,this.productCart.forEach(r=>{var c;return null!==(c=r.quantity)&&void 0!==c?c:r.quantity=1}),this.getPrice()}ngOnInit(){}getPrice(){this.productCart.forEach(e=>this.total+=e.quantity*e.price)}increment(e){e.quantity=e.quantity+1,this.incorrect=e.quantity<1,this.total+=e.price}decrease(e){console.log("paso"),e.quantity=e.quantity-1,this.incorrect=e.quantity<1,console.log(this.incorrect),this.total-=e.price}change(e,o){const r=Number(e.value);o.quantity=r}validateQuantity(e){return Number(e.value)>0}buy(){x().fire({title:"Desea continuar con la compra?",showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then(e=>{e.isConfirmed&&(this.productCart.forEach((o,r)=>{this.clientService.addProductHistory(this.authService.user._id,o).subscribe(c=>{c.ok&&(this.productCart.splice(r,1),localStorage.setItem("products",JSON.stringify(this.productCart)))})}),this.total=0)})}deleteProduct(e){x().fire({title:"No hay una pagina principal",text:"Desea eliminar el producto?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then(o=>{o.isConfirmed&&(this.productCart.splice(e,1),localStorage.setItem("products",JSON.stringify(this.productCart)))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.y),t.Y36(m.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shopping-cart"]],decls:38,vars:10,consts:[[1,"main-container"],[1,"container","shop-container"],[1,"title"],[1,"row","mt-5"],[1,"col"],[1,"fw-bold","fs-5"],["class","row my-3",4,"ngFor","ngForOf"],[1,"btn","btn-outline-primary",3,"ngClass","click"],["previousLabel","Anterior","nextLabel","Siguiente",1,"pagination",3,"pageChange"],[1,"row","my-3"],[1,"product-image","mx-2",3,"src"],[1,"mb-3"],[1,"d-flex","justify-content-center"],["type","button","min","0","value","-","id","moins",1,"border-dark","btn","rounded-0","rounded-start",3,"click"],["type","text","size","25","min","0","id","quantity",1,"text-center","w-25",3,"ngModel","change","ngModelChange"],["quantityInput",""],["type","button","min","0","value","+","id","plus",1,"border-dark","btn","rounded-0","rounded-end",3,"click"],["for","quantity",1,"form-check-label","text-danger"],[1,"col","mt-3"],["mat-icon-button","","color","warn"],[3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"Carrito de compra"),t.qZA(),t.TgZ(4,"div",3),t._UZ(5,"div",4),t.TgZ(6,"div",4)(7,"p",5),t._uU(8,"Producto"),t.qZA()(),t.TgZ(9,"div",4)(10,"p",5),t._uU(11,"Precio"),t.qZA()(),t.TgZ(12,"div",4)(13,"p",5),t._uU(14," Cantidad"),t.qZA()(),t.TgZ(15,"div",4)(16,"p",5),t._uU(17,"Subtotal"),t.qZA()(),t.TgZ(18,"div",4),t._UZ(19,"p",5),t.qZA()(),t.YNc(20,L,26,7,"div",6),t.ALo(21,"paginate"),t.TgZ(22,"div",3),t._UZ(23,"div",4),t.TgZ(24,"div",4),t._UZ(25,"p",5),t.qZA(),t.TgZ(26,"div",4),t._UZ(27,"p",5),t.qZA(),t.TgZ(28,"div",4),t._UZ(29,"p",5),t.qZA(),t.TgZ(30,"div",4)(31,"p",5),t._uU(32),t.qZA()(),t.TgZ(33,"div",4)(34,"button",7),t.NdJ("click",function(){return o.buy()}),t._uU(35,"Comprar"),t.qZA()()(),t._UZ(36,"hr"),t.TgZ(37,"pagination-controls",8),t.NdJ("pageChange",function(c){return o.page=c}),t.qZA()()()),2&e&&(t.xp6(20),t.Q6J("ngForOf",t.xi3(21,3,o.productCart,t.VKq(6,z,o.page))),t.xp6(12),t.hij("Total: ",o.total,""),t.xp6(2),t.Q6J("ngClass",t.VKq(8,R,o.incorrect||o.productCart.length<1)))},directives:[l.sg,f.Fj,f.JJ,f.On,$.lW,D.Hw,l.mk,g.LS],pipes:[g._s],styles:[".main-container[_ngcontent-%COMP%]{background-color:#e0e0e0;width:100%;height:100vh;padding-top:5rem}.shop-container[_ngcontent-%COMP%]{background-color:#fff;width:98%;margin-left:auto;margin-right:auto;border-radius:1rem;padding-top:1rem}.shop-container[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{color:#078e94;font-size:xx-large;font-style:bolder;display:flex;justify-content:center;margin-top:2rem;margin-bottom:2rem}.product-image[_ngcontent-%COMP%]{width:6rem;height:5rem;max-width:6rem;max-height:5rem}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),n})(),canActivate:[C.z,h.f8],canLoad:[C.z,h.f8]},{path:"historical",component:Q,canActivate:[C.z,h.f8],canLoad:[C.z,h.f8]},{path:"",redirectTo:"companies"}]}];let X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.Bz.forChild(E)],d.Bz]}),n})(),V=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var K=a(5578),W=a(4586),G=a(1354);let tt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,X,V,K.q,g.JX,W.D,f.u5,G.F]]}),n})()}}]);